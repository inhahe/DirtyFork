# no value you aren't actually going to use needs to be in here. the config object returns None for anything that's missing.
# todo: option to star out passwords when they're being typed
# non-required input fields won't be validated.
# default to required if it's not specified?
# add int range checks to input fields validation specification?
database: DirtyFork.db
hostname: logoplex3 # can also be an ip address
port: 23
bbs_name: The Dirty Fork
doors_base_path: d:\doors # any non-absolute path specified in door game configurations will be relative to this path.
input_fields:
  scroll_inside: false  # when scroll_inside is false, hitting up when at the top will bring you to the previous one, hitting down while at the bottom will bring you to the next one, maybe side to side too?
  # have colors for currently invalid entries?
  # do we validate every time the user enters a character, every time they tab away from a field, or every time they try to submit? make it an option here?
  bg_chars: 
    ord: 176
    color:
      fg: gray
      br_fg: false
      bg: blue
      br_bg: false
  fg_chars:
    color:
      fg: green
      br_fg: false
      bg: black
      br_bg: false
  borders: true
login:
  screen:
    path: null 
    inputs:
      handle:
        row: null
        col: null
        length: null
      password:
        row: null
        col: null
        length: null
  fail_screen: # move this out into the main level as login_fai
    path: null
    inputs:
      cr: # carriage return
        row: null
        col: null
        length: null
  allowed_attempts: 3
register:
  screen: # none of the inputs values will actually be used because path is null. the idea is to that we know where to put the inputs in a custom-made ansi screen.
    path: null 
    inputs:
      handle:
        re: "[A-Za-z0-9_]"
        required: true
        row: null
        col: null
        length: null
      password:
        required: true
        row: null
        col: null
        length: null
      age:
        # re: "\\d{1,3}" #is this a one- to three-digit number? # took this out because people won't be honest if they don't want to enter it anyway, and this way
        required: false # people can be more creative.
        row: null
        col: null
        length: null
      sex: 
        re: "[A-Za-z ]+"
        required: false
        row: null
        col: null
        length: null
      location: 
        re: "[A-Za-z0-9 ,.\\-/#]+"
        required: false
        row: null
        col: null
        length: null
        height: 4
      email: 
        required: false
        re: |
          (?:[a-z0-9!#$%&'*+\x2f=?^_`\x7b-\x7d~\x2d]+(?:\.[a-z0-9!#$%&'*+\x2f=?^_`\x7b-\x7d~\x2d]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9\x2d]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9\x2d]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9\x2d]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])
        row: null
        col: null
        length: null
        height: null
      bio:
        required: false # this and location make me realize that we need multi-line input fields.
        length: 40 # at 10 deep, i don't want the width to be default, it could be oddly too short.
        height: 10 # so how the heck do we fit a bunch of multi-line edit boxes into one screen??
                   # i guess if no screen is defined we must scroll up and down when tab or shift_tab is hit. or enter for non-multiline ones.
         
log:
  path: DirtyFork.log # todo: options for breaking up logs into multiple files, keeping them below a certain length, keeping them younger than a certain age. is there a library for this?
first_destination: 
  type: func
  target: check_keys
destinations:
  check_keys:
    type: func
  main: 
    type: menu
    screen:
      path: null 
    inputs:
      option:
        row: null
        col: null
        length: null
    white_keys: []
    black_keys: []
    options:
      D: 
        type: menu
        target: doors
        name: door games # i don't like how options have names and types but destinations have types and no names. hmm. oh well.
        screen_path: null
        handle_input:
          row: bottom
          col: null
          length: null
      F:
        type: func
        target: f
  doors:
    white_keys: [doors] # destinations can also have white_keys and black_keys. white keys are keys you need to use it. black_keys are keys you need to not have to use it. 
    black_keys: [banned]
    options:
      T:
        communication_type: COM #types: com, fossil, stdio, socket
        dropfile_type: DOOR.SYS
        dropfile_path: null #uses the same path as in the command line
 #dropfile types to pass on command line:
#DOOR.SYS # pcboard
#DORINFO  # Wildcat
#CHAIN    # WWIV
#CALLINFO # Wildcat
#SFDOORS  # Spitfire
#TRIBBS   # TriBBS
#SPITFIRE   
#DOOR32   # modern

#dropfile filenames:
#DOOR.SYS      # Most common (PCBoard format)
#DORINFO1.DEF  # Wildcat/others
#CALLINFO.BBS  # Wildcat
#CHAIN.TXT     # WWIV
#SFDOORS.DAT   # Spitfire
#DOOR32.SYS    # modern
#TRIBBS.SYS    # TriBBS


        name: Trade Wars 2002
        command_line: null #variables: %node, %com, %baud, %dropfile_path, %dropfile_type %config_path %time_limit, %handle,  %socket_handle, 
        #%graphics_mode, %bbs_software, %data_path, %sysop_name, %bbs_name, %registration_key (probably don't need this variable, 
        #the user can just enter it in the command line. same for bbs name, sysop name, path, data_path, language (unless we internationalize the bbs), 
        #DEBUG/VERBOSE/-v/LOG, ui/theme color (e.g. BLUE, DARK), game-specific options), %rows, %cols, 
        #%irq, %io_port (e.g., 3F8), %uart_type (these three are old and rare)
        #you need to limit the number of nodes you run at once for a door game 
        # flags: LOCAL, FOSSIL, 
        #  maintenance modes: /DAILY, /MAINTENANCE, /MAINT, -MAINT
        # /RESET
        # /COMPACT
        # /BACKUP
        # /CLEANUP
        #TW2002.EXE -MAINT -COMPACT -BACKUP -EXPORT -TURNS
        #BRE.EXE /MAINTENANCE 
        #/NEWDAY 
        #/PACK
        #SRE.EXE /MAINT
        #/DAILY
        #/PACK
        #PLANETS.EXE /MAINT 
        #PLANETS.EXE /RESET
        #LORD.EXE /MAINT
        #/DAILY
        #/PACK
        #LORD2.EXE
        #/MAINT
        #/RESET
        #USURPER.EXE /M
        #/D
        #LOD.EXE -M
        #-DAILY
        #POKER.EXE /MAINT
        #GWAR.EXE /MAINT
        #/DAILY
        #FE.EXE /M
        #FE.EXE /DAILY
        #typical maintenance schedules: daily, weekly, monthly, time of day

        #typical command lines: 
        #door.exe %node
        #door.exe %node, %baud, %dropfile_path
        #door.exe /N:%node /D:%dropfile_path, 
        # or door.exe /N:%node /D:%dropfile_path, /B:%baud
        #door.exe %node %baud %dropfile_path N Y %rows %cols %handle %bbs_name
        #if you pass %node and no drop file path, the dropfile should be called e.g. DOOR3.SYS or DORINFO3.SYS for node 3
        #or, sometimes the dropfile doesn't take a number, like with TRIBBS. you have to make a unique ini file for dosbox which 
        #mounts the drive and cd's to the directory the door file is in.
        #you can make e.g. both DOOR3.SYS AND DOOR.SYS for node 3 to make all the doors happy.

  #graphics modes: ANSI, ASCII, RIP, AVATAR, G:ANSI
#bbs software types: PCBOARD, WILDCAT, WWIV, RENEGADE, MYSTIC, PCBOARD
  
        #common door games command-line parameters:
        #very common:
        #Trade Wars 2002: TW2002.EXE %node
        #Legend of the Red Dragon (LORD): LORD.EXE %node
        #Barren Realms Elite (BRE): BRE.EXE %dropfile_path (DOORINFO1.DEF format)
        #Planets: The Exploration of Space (TEOS): PLANETS.EXE /N%node
        #Usurper: USURPER.EXE /N%node
        #Solar Realms Elite: SRE.EXE %dropfile_path (DOORINFO1.DEF format)
        #Global War (GWar): GWAR.EXE %node
        #strategy/simulation: 
        #Falcons Eye: FE.EXE %node
        #Food Fight: FOODFITE.EXE %node
        #Mercenary Wars: MERC.EXE %dropfile_path (DOORINFO1.DEF format)
        #Swords of Chaos: SOC.EXE %node
        #Land of Devastation (LOD):
        #LOD.EXE %node
        #BBS Poker: POKER.EXE %node
        #Chess: CHESS.EXE %node %dropfile_path (DOOR.SYS)
        #
#         Trivia/Word Games:
# Fresh Water Fishing:
# FWFISH.EXE <node>
# FWFISH.EXE 1
# Studs:
# STUDS.EXE <node>
# STUDS.EXE 1
# Yankee Trader:
# YANKEE.EXE <node>
# YANKEE.EXE 1
# Scrabble-style games:
# WORD.EXE <node>
# WORD.EXE 1
# Adventure/RPG:
# LORD II: New World:
# LORD2.EXE <node>
# LORD2.EXE 1
# The Pit:
# PIT.EXE <node>
# PIT.EXE 1
# Darkness:
# DARK.EXE <node>
# DARK.EXE 1
# Leviathan's Lair:
# LEVIATAN.EXE <node>
# LEVIATAN.EXE 1
# Action/Arcade:
# DoorMUD:
# DOORMUD.EXE <node>
# DOORMUD.EXE 1
# BRE Arena (action version of BRE):
# ARENA.EXE DORINFO1.DEF
# Operation: Overkill (OO):
# OO.EXE <node>
# OO.EXE 1
# Utility Doors:
# InterBBS League Coordinator:
# LEAGUE.EXE <node>
# LEAGUE.EXE 1
# Top Ten Door:
# TOP10.EXE <node>
# TOP10.EXE 1
# User Lister:
# USERLIST.EXE <node>
# USERLIST.EXE 1
# Last Callers:
# LASTCALL.EXE <node>
# LASTCALL.EXE 1
        

